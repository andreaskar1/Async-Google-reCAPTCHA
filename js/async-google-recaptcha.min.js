/******************************************************
*                                                     *
*   Async reCAPTCHA - jQuery Plugin                   *
*                                                     *
*   Purpose: This project contains a simple and       *
*            full configurable jQuery plugin which    *
*            asynchronously loads one or multiple     *
*            Google reCAPTCHA v2 instances located    *
*            on a page. The load is triggered when    *
*            the reCAPTCHA is scrolled into viewport. *
*                                                     *
*   Author: Andreas Kar (thex) <andreas.kar@gmx.at>   *
*   Repository: https://git.io/JvyqU                  *
*                                                     *
******************************************************/

!function(i){i.fn.asyncReCAPTCHA=function(e){var n=i.extend(!0,{},i.fn.asyncReCAPTCHA.defaults,e);n.containers=this,n.triggerAsyncLoad(n),n.checkAndLoad(n)},i.fn.asyncReCAPTCHA.defaults={offset:0,libraryUrl:"https://www.google.com/recaptcha/api.js",spinner:{remove:!1,selector:".spinner-border",delay:1e4},isInViewport:function(e){var n=i(this).offset().top,r=n+i(this).outerHeight(),o=i(window).scrollTop(),t=o+i(window).height();return o<r&&n+e.offset<t},removeSpinner:function(e){setTimeout(function(){i(this).parent().find(e.spinner.selector).remove()}.bind(this),e.spinner.delay)},triggerAsyncLoad:function(e){i(window).on("resize scroll",function(){e.checkAndLoad(e)})},checkAndLoad:function(e){var n;i((n=e).containers).each(function(){var e=i(this);!i.trim(e.html())&&n.isInViewport.call(e,n)&&(jQuery.getScript(n.libraryUrl),n.spinner.remove&&n.removeSpinner.call(e,n),n.afterLoad.call(e,n))})},beforeLoad:function(e){},afterLoad:function(e){}}}(jQuery);